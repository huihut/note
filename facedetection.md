

## 链接

* [人脸检测发展：从VJ到深度学习（上）](https://www.leiphone.com/news/201608/MPXlWtGaJLPYL7NB.html)
* [人脸检测发展：从VJ到深度学习（下）](https://www.leiphone.com/news/201608/IUpGIV33MWwH0x3Y.html)
* [浅析人脸检测之Haar分类器方法](http://www.cnblogs.com/ello/archive/2012/04/28/2475419.html)
* [图像特征提取三大法宝：HOG特征，LBP特征，Haar特征](http://dataunion.org/20584.html)

## Idea

* 首先全局检测，检测到人脸再在人脸周围检测？
* Haar特征本质上是局部区域像素值的一种线性组合，所以考虑非线性特征？3D？


## 图像特征提取

* HOG特征
* LBP特征
* Haar特征  

### HOG特征
方向梯度直方图（Histogram of Oriented Gradient, HOG）特征是一种在计算机视觉和图像处理中用来进行物体检测的特征描述子。它通过计算和统计图像局部区域的梯度方向直方图来构成特征。Hog特征结合SVM分类器已经被广泛应用于图像识别中，尤其在行人检测中获得了极大的成功。需要提醒的是，HOG+SVM进行行人检测的方法是法国研究人员Dalal在2005的CVPR上提出的，而如今虽然有很多行人检测算法不断提出，但基本都是以HOG+SVM的思路为主。

### LBP特征
LBP（Local Binary Pattern，局部二值模式）是一种用来描述图像局部纹理特征的算子；它具有旋转不变性和灰度不变性等显著的优点。它是首先由T. Ojala, M.Pietikäinen, 和D. Harwood 在1994年提出，用于纹理特征提取。而且，提取的特征是图像的局部的纹理特征；

### Haar特征
Haar-like特征最早是由Papageorgiou等应用于人脸表示，Viola和Jones在此基础上，使用3种类型4种形式的特征。
Haar特征分为三类：边缘特征、线性特征、中心特征和对角线特征，组合成特征模板。特征模板内有白色和黑色两种矩形，并定义该模板的特征值为白色矩形像素和减去黑色矩形像素和。Haar特征值反映了图像的灰度变化情况。例如：脸部的一些特征能由矩形特征简单的描述，如：眼睛要比脸颊颜色要深，鼻梁两侧比鼻梁颜色要深，嘴巴比周围颜色要深等。但矩形特征只对一些简单的图形结构，如边缘、线段较敏感，所以只能描述特定走向（水平、垂直、对角）的结构。


## 人脸检测器

### 人脸检测方法的分类

目前的人脸检测方法主要有两大类：基于知识、基于统计。

> “基于知识的方法主要利用先验知识将人脸看作器官特征的组合，根据眼睛、眉毛、嘴巴、鼻子等器官的特征以及相互之间的几何位置关系来检测人脸。基于统计的方法则将人脸看作一个整体的模式——二维像素矩阵，从统计的观点通过大量人脸图像样本构造人脸模式空间，根据相似度量来判断人脸是否存在。在这两种框架之下，发展了许多方法。目前随着各种方法的不断提出和应用条件的变化，将知识模型与统计模型相结合的综合系统将成为未来的研究趋势。”（来自论文《基于Adaboost的人脸检测方法及眼睛定位算法研究》）

* 基于知识的人脸检测方法
  * 模板匹配
  * 人脸特征
  * 形状与边缘
  * 纹理特性
  * 颜色特征
* 基于统计的人脸检测方法
  * 主成分分析与特征脸
  * 神经网络方法
  * 支持向量机
  * 隐马尔可夫模型
  * Adaboost算法

### VJ人脸检测器

Haar分类器：把Boosting算法中的AdaBoost算法训练出的强分类器进行级联，并且在底层的特征提取中采用了高效率的矩形特征和积分图方法

Haar分类器 =  Haar-like特征 + 积分图方法 + AdaBoost + 级联结构

* Haar-like特征（类Haar特征），用于检测
* 积分图（Integral Image），特征的快速计算方法，用于对Haar-like特征求值进行加速
* AdaBoost，有效的分类器学习方法，用于作为强分类器区分人脸和非人脸
* 筛选式级联结构，高效的分类策略，用于把强分类器级联到一起，提高准确率

所谓Haar特征，其实就是在窗口的某个位置取一个矩形的小块，然后将这个矩形小块划分为黑色和白色两部分，并分别对两部分所覆盖的像素点（图像上的每个点称为一个像素）的灰度值求和，最后用白色部分像素点灰度值的和减去黑色部分像素点灰度值的和，得到一个Haar特征的值。    

### VJ人脸检测器的改进

* 变换（旋转、分离、对角、组合、带权多通道）的Haar的特征

* LBP特征：LBP特征是一种二值编码特征，其直接基于像素灰度值进行计算，特点是在编码时考虑的是两个值的相对大小，并且按照一定的空间结构来进行编码，局部组合二值特征就是在LBP特征的启发下设计的

* 简化的SURF特征：计算的是局部区域中像素点的梯度和，并在求和的过程中考虑了梯度方向（所谓梯度，最简单的一种情形就是指同一行上两个不同位置像素值的差比上它们水平坐标的差）

* HOG特征：HOG特征也是一种基于梯度的特征，其对一个局部区域内不同方向的梯度进行统计，计算梯度直方图来表示这个区域。

* 积分通道特征和多通道的Haar特征有些类似，但是其使用的通道更加多样化，将通道的概念推广为由原图像变换而来并且空间结构和原图像对应的任何图像。
* 聚合通道特征则在积分通道特征的基础上进一步加入了对每个通道进行下采样的操作，实现局部区域信息的聚合。

## 使用深度学习的人脸检测

卷积神经网络（CNN） -> R-CNN（Region-CNN，区域卷积神经网络）

滑动窗口范式 -> 候选窗口生成

## 类聚与分类

### 聚类和分类的区别

一般对已知物体类别总数的识别方式我们称之为分类，并且训练的数据是有标签的，比如已经明确指定了是人脸还是非人脸，这是一种有监督学习。也存在可以处理类别总数不确定的方法或者训练的数据是没有标签的，这就是聚类，不需要学习阶段中关于物体类别的信息，是一种无监督学习。

### 聚类和分类的算法

Mahalanobis距离、K均值、朴素贝叶斯分类器、决策树、Boosting、随机森林、Haar分类器、期望最大化、K近邻、神经网络、支持向量机。
